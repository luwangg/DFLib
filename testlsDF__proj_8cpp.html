<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DFLib: /users/russo/DFLIB_Git/DFLib/testlsDF_proj.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DFLib
   &#160;<span id="projectnumber">Release 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0827e3d8f2fc5b380457c2f5f593039d.html">users</a></li><li class="navelem"><a class="el" href="dir_e3d448f766c20b7c5dd232360f0cb1b4.html">russo</a></li><li class="navelem"><a class="el" href="dir_2e876a9da1298e6d0b815bfd0e2672ca.html">DFLIB_Git</a></li><li class="navelem"><a class="el" href="dir_c9a32fc09f2ddce4563d657a29e7c235.html">DFLib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">testlsDF_proj.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;proj_api.h&gt;</code><br />
<code>#include &quot;<a class="el" href="Util__Misc_8hpp.html">Util_Misc.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gaussian__random_8hpp.html">gaussian_random.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DF__Proj__Point_8hpp.html">DF_Proj_Point.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DF__Report__Collection_8hpp.html">DF_Report_Collection.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DF__Proj__Report_8hpp.html">DF_Proj_Report.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for testlsDF_proj.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="testlsDF__proj_8cpp__incl.png" border="0" usemap="#_2users_2russo_2DFLIB__Git_2DFLib_2testlsDF__proj_8cpp" alt=""/></div>
<map name="_2users_2russo_2DFLIB__Git_2DFLib_2testlsDF__proj_8cpp" id="_2users_2russo_2DFLIB__Git_2DFLib_2testlsDF__proj_8cpp">
<area shape="rect" id="node8" href="Util__Misc_8hpp.html" title="Util_Misc.hpp" alt="" coords="346,184,453,211"/><area shape="rect" id="node11" href="gaussian__random_8hpp.html" title="gaussian_random.hpp" alt="" coords="5,184,169,211"/><area shape="rect" id="node13" href="DF__Proj__Point_8hpp.html" title="DF_Proj_Point.hpp" alt="" coords="971,184,1108,211"/><area shape="rect" id="node15" href="DF__Report__Collection_8hpp.html" title="DF_Report_Collection.hpp" alt="" coords="795,109,979,136"/><area shape="rect" id="node18" href="DF__Proj__Report_8hpp.html" title="DF_Proj_Report.hpp" alt="" coords="369,109,515,136"/><area shape="rect" id="node9" href="DFLib__port_8h.html" title="DFLib_port.h" alt="" coords="492,333,595,360"/><area shape="rect" id="node14" href="DF__Abstract__Point_8hpp.html" title="DF_Abstract_Point.hpp" alt="" coords="835,259,1001,285"/><area shape="rect" id="node16" href="Util__Abstract__Group_8hpp.html" title="Util_Abstract_Group.hpp" alt="" coords="631,259,810,285"/><area shape="rect" id="node17" href="DF__Abstract__Report_8hpp.html" title="DF_Abstract_Report.hpp" alt="" coords="477,184,653,211"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6d69f1d0add8bb63c930b2c013879652"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlsDF__proj_8cpp.html#a6d69f1d0add8bb63c930b2c013879652">dmstor</a> (const char *, char **)</td></tr>
<tr class="separator:a6d69f1d0add8bb63c930b2c013879652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlsDF__proj_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6d69f1d0add8bb63c930b2c013879652"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double dmstor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="testlsDF__proj_8cpp_a6d69f1d0add8bb63c930b2c013879652_icgraph.png" border="0" usemap="#testlsDF__proj_8cpp_a6d69f1d0add8bb63c930b2c013879652_icgraph" alt=""/></div>
<map name="testlsDF__proj_8cpp_a6d69f1d0add8bb63c930b2c013879652_icgraph" id="testlsDF__proj_8cpp_a6d69f1d0add8bb63c930b2c013879652_icgraph">
<area shape="rect" id="node2" href="testlsDF__proj_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="121,5,176,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple demo program to test out <a class="el" href="namespaceDFLib.html">DFLib</a> fixes using the DFLIB::Proj::Report class</p>
<p>testlsDFfix_proj takes a longitude/latitude pair in PROJ.4 format as command line arguments. This coordinate pair represents the actual location of a transmitter. It also takes as standard in a text file of receiver locations with their standard deviations. Several example receivers files are distributed with <a class="el" href="namespaceDFLib.html">DFLib</a>.</p>
<p>The program then computes the actual bearings from the given receiver locations to the known transmitter location, and adds random errors to the bearings. The random errors are selected from a Gaussian distribution with the standard deviations given in the receivers file.</p>
<p>From the randomized bearings, the code computes DF fixes using all the methods available in <a class="el" href="namespaceDFLib.html">DFLib</a>: the Fix Cut Average, Least Squares (orthogonal vectors), Maximum Likelihood and Stansfield fixes. It outputs a file "testlsDFfix.gnuplot" of Gnuplot commands to plot the DF problem and the various fixes. Error ellipses for the Stansfield solution are also plotted.</p>
<p>The program also outputs a file "testlsDFfix.grasspoints" with the station locations and fix locations in a format that can be read by GRASS GIS's v.in.ascii.</p>
<p>Code to dump out a GeoTIFF file of the Maximum Likelihood method's cost function is commented out with preprocessor "if 0" statements, and requires GDAL. Only the Autoconf build method is currently set up to detect and use GDAL. This stuff is commented out because in at least one version of GDAL it lead to reports of memory access issues from Valgrind. But it can be useful to uncomment it when trying to understand why some geometries of DF problem lead to the Maximum Likelihood and Stansfield fixes failing to converge (one finds that the surface is very flat near the minimum, and the various minimization methods can't do anything but shoot off to infinity).</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="testlsDF__proj_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph.png" border="0" usemap="#testlsDF__proj_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" alt=""/></div>
<map name="testlsDF__proj_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" id="testlsDF__proj_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" id="node2" href="testlsDF__proj_8cpp.html#a6d69f1d0add8bb63c930b2c013879652" title="dmstor" alt="" coords="189,5,257,32"/><area shape="rect" id="node3" href="classDFLib_1_1Proj_1_1Point.html#a624b4b542d3f68be5b99205ffdd621dc" title="get mercator projection (XY) position " alt="" coords="159,122,288,163"/><area shape="rect" id="node5" href="classDFLib_1_1ReportCollection.html#ad5949ddc82d7af6361821c2c7ede9334" title="DFLib::ReportCollection\l::size" alt="" coords="139,187,307,229"/><area shape="rect" id="node6" href="classDFLib_1_1Abstract_1_1Report.html#a24a949f815ceb325fefacf5255e5e79c" title="compute bearing from this reporting location to some other point " alt="" coords="133,253,314,294"/><area shape="rect" id="node7" href="classDFLib_1_1Util_1_1gaussian__random__generator.html#a010d5efcf21cd1a326d2c47a5f7d3e4a" title="DFLib::Util::gaussian\l_random_generator::getRandom" alt="" coords="108,318,339,359"/><area shape="rect" id="node9" href="classDFLib_1_1Proj_1_1Report.html#a678a18c1573b303cb8ffa67412532a6a" title="set bearing in degrees " alt="" coords="154,383,293,425"/><area shape="rect" id="node10" href="classDFLib_1_1ReportCollection.html#ae9f1b6bf5605ae826957c6dcdd4a18ea" title="Add a DF report to the collection. " alt="" coords="139,449,307,490"/><area shape="rect" id="node11" href="classDFLib_1_1ReportCollection.html#aa3f1bc86e3d42e033528d7fbe1f84e4f" title="DFLib::ReportCollection\l::getReceiverLocationXY" alt="" coords="137,514,310,555"/><area shape="rect" id="node12" href="classDFLib_1_1ReportCollection.html#ad40068b03a0754de1ec85ffc943fc69d" title="DFLib::ReportCollection\l::getReport" alt="" coords="139,579,307,621"/><area shape="rect" id="node13" href="classDFLib_1_1Abstract_1_1Report.html#a68b62f719f4c09f8aff4d8890c6f0b3e" title="return reported bearing to target " alt="" coords="128,645,319,686"/><area shape="rect" id="node14" href="classDFLib_1_1ReportCollection.html#a4f37e88da4347af97dfdc2f7ac63f6f1" title="Computes least squares solution of DF problem. " alt="" coords="128,841,319,882"/><area shape="rect" id="node17" href="classDFLib_1_1ReportCollection.html#a1a6391703b54c14f3e0dd2f0194ef0fa" title="return the fix cut average of this collection&#39;s reports " alt="" coords="135,710,312,751"/><area shape="rect" id="node21" href="classDFLib_1_1Proj_1_1Point.html#ad1d0b8c5594fee59452dfc804a4c8619" title="get user position " alt="" coords="159,1154,288,1195"/><area shape="rect" id="node23" href="classDFLib_1_1ReportCollection.html#aec80c0af92d93889ed3d499d7a574530" title="compute cost function for point x,y " alt="" coords="139,1219,308,1261"/><area shape="rect" id="node24" href="classDFLib_1_1ReportCollection.html#adffd170257322f58734acb369bb720a4" title="Computes Maximum Likelihood solution of DF problem. " alt="" coords="139,971,307,1013"/><area shape="rect" id="node34" href="classDFLib_1_1Proj_1_1Report.html#a7a33f236ce4d2607f43b4ec4dba227eb" title="return a copy (yes, a COPY) of the receiver point object " alt="" coords="154,1285,293,1326"/><area shape="rect" id="node35" href="classDFLib_1_1Proj_1_1Point.html#a04df5f8197a6ee402e10f1d1c7fab574" title="set user projection information " alt="" coords="159,57,288,98"/><area shape="rect" id="node36" href="classDFLib_1_1ReportCollection.html#aa91199f4a9e034857a043bc5aee0d34a" title="more aggressive attempt to get at an ML fix " alt="" coords="127,1037,319,1078"/><area shape="rect" id="node39" href="classDFLib_1_1Util_1_1Exception.html#a01d76ac3f29612789b7ccfc05cbb6c24" title="DFLib::Util::Exception\l::getEmsg" alt="" coords="438,1154,594,1195"/><area shape="rect" id="node40" href="classDFLib_1_1ReportCollection.html#a451e1a9224dcd059c521ed445f367d62" title="compute Cramer&#45;Rao bounding ellipse parameters " alt="" coords="120,906,327,947"/><area shape="rect" id="node41" href="classDFLib_1_1ReportCollection.html#a254385b14ca3a2708123f2fce980cc3a" title="Computes Stansfield estimate of Maximum Likelihood solution of DF problem. " alt="" coords="139,775,307,817"/><area shape="rect" id="node4" href="classDFLib_1_1Proj_1_1Point.html#a8a57c7fa0776c5e5cc077fcd87e3fd79" title="DFLib::Proj::Point\l::userToMerc" alt="" coords="451,90,581,131"/><area shape="rect" id="node8" href="classDFLib_1_1Util_1_1gaussian__random__generator.html#a55dc337e95f1532aa5c100fc7e4c8ab1" title="return double precision uniform deviates. " alt="" coords="387,318,645,359"/><area shape="rect" id="node15" href="classDFLib_1_1Abstract_1_1Point.html#adec4bffdb7ccebcef10e3105f90bc2bd" title="Set X&#45;Y coordinates of the point. " alt="" coords="437,841,595,882"/><area shape="rect" id="node16" href="classDFLib_1_1Abstract_1_1Point.html#aa7837d850b5ea3bcd35da21b0dbe9669" title="Get X&#45;Y coordinates of the point. " alt="" coords="437,906,595,947"/><area shape="rect" id="node18" href="classDFLib_1_1Abstract_1_1Point.html#ad21d8288fcacc615451b632be60dccbf" title="Clone Self. " alt="" coords="437,645,595,686"/><area shape="rect" id="node19" href="classDFLib_1_1Abstract_1_1Point.html#ad07bb72df16915c4ef7799d07cd2c898" title="Get coordinates in the user&#39;s coordinate system. " alt="" coords="437,710,595,751"/><area shape="rect" id="node20" href="classDFLib_1_1Abstract_1_1Point.html#a4efcb702d48928c1de1053b5ed00a2d8" title="Set coordinates in the user&#39;s coordinate system. " alt="" coords="437,775,595,817"/><area shape="rect" id="node22" href="classDFLib_1_1Proj_1_1Point.html#a50d73db1c4ff9d4037e4cc3ce276b433" title="DFLib::Proj::Point\l::mercToUser" alt="" coords="451,1219,581,1261"/><area shape="rect" id="node25" href="classDFLib_1_1Util_1_1Minimizer.html#a345f790e649eaf0092e5590e3e21acd7" title="minimize function of vector value by method of conjugate gradients " alt="" coords="414,971,618,1013"/><area shape="rect" id="node26" href="classDFLib_1_1Abstract_1_1Group.html#ad00c7b727dc9a41733a454dd69f1c0ea" title="Set the point at which to evaluate the function. " alt="" coords="1334,923,1501,965"/><area shape="rect" id="node27" href="classDFLib_1_1Abstract_1_1Group.html#a82c14ff935f1152550862ce916112483" title="DFLib::Abstract::Group\l::getFunctionValueAndGradient" alt="" coords="1308,845,1527,886"/><area shape="rect" id="node28" href="classDFLib_1_1Util_1_1Minimizer.html#af8044e0bb85656cbdf67f40f673cb82e" title="minimize function in given direction perform a line search along the given direction for the minimum ..." alt="" coords="693,917,848,958"/><area shape="rect" id="node29" href="classDFLib_1_1Util_1_1Minimizer.html#a5e4b72771d67e950842a6fa8cebe2583" title="bracket minimum of function " alt="" coords="896,917,1051,958"/><area shape="rect" id="node32" href="classDFLib_1_1Util_1_1Minimizer.html#a974666891284930ce15f2f1b80ed45c6" title="minimize by Brent&#39;s method with derivatives given a,b,c scalars that bracket the minimum in given dir..." alt="" coords="896,851,1051,893"/><area shape="rect" id="node30" href="classDFLib_1_1Util_1_1Minimizer.html#ac1a357c746cdefe2f20d8784f1f00ab4" title="Evaluate &#160;where x0 and dir are vectors. " alt="" coords="1102,917,1257,958"/><area shape="rect" id="node31" href="classDFLib_1_1Abstract_1_1Group.html#a56e8978276976b053afac5939c0fbafb" title="DFLib::Abstract::Group\l::getFunctionValue" alt="" coords="1334,1014,1501,1055"/><area shape="rect" id="node33" href="classDFLib_1_1Util_1_1Minimizer.html#af4cb8dd8cd1ee7c40a27e4ecbc219917" title="DFLib::Util::Minimizer\l::simpleFandDeriv" alt="" coords="1102,851,1257,893"/><area shape="rect" id="node37" href="classDFLib_1_1ReportCollection.html#ac519cde418b1e5c7de9dcf534f512b0a" title="compute cost function for point x,y and its gradient " alt="" coords="391,1089,641,1130"/><area shape="rect" id="node38" href="classDFLib_1_1Util_1_1Minimizer.html#afbca147bc6a2f9113a5f9d9f4095f2e4" title="minimuze function of vector argument by Nelder&#45;Mead simplex method. " alt="" coords="1099,1034,1260,1075"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 6 2015 20:27:45 for DFLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
